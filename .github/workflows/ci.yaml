name: helloworkflow

on:
  push:
    branches: [main]

jobs:
  build-and-test:
    environment: production
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code ğŸ›ï¸
        uses: actions/checkout@v3

      - name: Set up Node.js ğŸ› ï¸
        uses: actions/setup-node@v3
        with:
          node-version: 16

      - name: Cache npm dependencies ğŸ“¦ # ğŸŒŸ Cache npm dependencies
        id: cache
        uses: actions/cache@v3
        with:
          path: '**/node_modules' # Cache 'node_modules' directories in project
          key: dependencies-node-${{ runner.os }}-${{ hashFiles('**/package.json') }} # Cache key
          restore-keys: |
            - dependencies-node-${{ runner.os }}- # Fallback key (try to restore from any OS cache)
            - dependencies-node- # Generic fallback

      - name: Install dependencies ğŸ“¦
        run: npm install

      - name: output hit or miss
        run: echo "${{ steps.cache.outputs.cache-hit }}"

